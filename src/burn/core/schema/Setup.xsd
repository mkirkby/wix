<?xml version="1.0" encoding="utf-8"?>
<xs:schema  xmlns:xs="http://www.w3.org/2001/XMLSchema"
               xmlns="http://schemas.microsoft.com/Setup/2008/01/im"
     targetNamespace="http://schemas.microsoft.com/Setup/2008/01/im"
  elementFormDefault="qualified"
attributeFormDefault="unqualified"
>

    <xs:annotation>
        <xs:documentation>
            Copyright (c) Microsoft Corporation.  All rights reserved.
            
            The use and distribution terms for this software are covered by the
            Common Public License 1.0 (http://opensource.org/licenses/cpl.php)
            which can be found in the file CPL.TXT at the root of this distribution.
            By using this software in any fashion, you are agreeing to be bound by
            the terms of this license.
            
            You must not remove this notice, or any other, from this software.
            Schema for describing DevDiv "Setup" installer
        </xs:documentation>
    </xs:annotation>

    <xs:group name="ParamInfo">
        <xs:sequence>
            <xs:element ref="UI"          minOccurs="1" maxOccurs="1"></xs:element>
            <xs:element ref="Configuration" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element ref="Variable" minOccurs="0" maxOccurs="unbounded" />
            <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="DirectorySearch" />
                <xs:element ref="FileSearch" />
                <xs:element ref="RegistrySearch" />
                <xs:element ref="MsiComponentSearch" />
                <xs:element ref="MsiProductSearch" />
            </xs:choice>
            <xs:element ref="EnterMaintenanceModeIf"    minOccurs="1" maxOccurs="1"></xs:element>
            <xs:element ref="Ux" minOccurs="1" maxOccurs="1" />
            <xs:element ref="Registration" minOccurs="1" maxOccurs="1" />
            <xs:element ref="Payload" minOccurs="0" maxOccurs="unbounded" />
            <xs:element ref="Blockers"    minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element ref="Items"       minOccurs="1" maxOccurs="1"></xs:element>
            <xs:element ref="SystemCheck" minOccurs="0" maxOccurs="1"></xs:element>
        </xs:sequence>
    </xs:group>

    <xs:element name="Setup">
        <xs:annotation>
            <xs:documentation>specifies UI dll, and lists of MSIs MSPs and EXEs</xs:documentation>
            <xs:appinfo>
                <xs:parent namespace="http://schemas.microsoft.com/wix/2006/wi" ref="Component" />
            </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:choice>
                    <xs:element ref="LocalizedData"    minOccurs="1" maxOccurs="1"></xs:element>
                    <xs:group ref="ParamInfo" />
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="SetupVersion" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>The current version of setup.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="UI">
        <xs:annotation>
            <xs:documentation>location of the (custom) UI .dll</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Dll" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>path to custom UI .dll</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Name of KB article, or Product</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Version" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Version of the Product</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="EnterMaintenanceModeIf">
        <xs:annotation>
            <xs:documentation>element that wraps a bunch of expressions and operands, to decide if we're in maintenance mode</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="Expressions" />
            </xs:choice>
        </xs:complexType>
    </xs:element>

    <xs:element name="Payload">
        <xs:annotation>
            <xs:documentation>
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="FilePath" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Packaging" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="download"/>
                        <xs:enumeration value="embedded"/>
                        <xs:enumeration value="external"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="SourcePath" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadUrl" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="FileSize" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1Hash" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha256Hash" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Resource">
        <xs:annotation>
            <xs:documentation>
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="FilePath" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Packaging" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="download"/>
                        <xs:enumeration value="embedded"/>
                        <xs:enumeration value="external"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="SourcePath" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadUrl" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="FileSize" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1Hash" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha256Hash" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Ux">
        <xs:annotation>
            <xs:documentation>
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="unbounded">
                <xs:element ref="Resource" />
                <xs:element ref="Payload" />
            </xs:choice>
            <xs:attribute name="UxDllPayloadId" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Registration">
        <xs:annotation>
            <xs:documentation>
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="Arp" minOccurs="0" maxOccurs="1" />
                <xs:element ref="Upgrade" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="Update" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ExecutableName" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Family" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Arp">
        <xs:annotation>
            <xs:documentation>
                Element that contains the ARP info.  Enables the package to be repaired/uninstalled from the Add/Remove Programs control panel
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="DisplayName" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        The name of the package being installed. This is used only for display purposes. Windows Installer's ProductName property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Publisher" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        The name of the manufacturer for the product. Windows Installer's Manufacturer property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="HelpLink" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        The Internet address for technical support. Windows Installer's ARPHELPLINK property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="HelpTelephone" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        The  technical support phone numbers. Windows Installer's ARPHELPTELEPHONE property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="AboutUrl" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        The URL for the link to the publishers home page or the application's home page. Windows Installer's ARPURLINFOABOUT property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="UpdateUrl" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        The URL for the link used to update information on the application. Windows Installer's ARPURLUPDATEINFO property
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DisableModify" type="YesNoType">
                <xs:annotation>
                    <xs:documentation>
                        If the DisableModify is yes and the DisableRemove is not yes, The UnistallString is a command line for removing the product, rather than reconfiguring the product. Windows Installer's ARPNOMODIFY property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DisableRepair" type="YesNoType">
                <xs:annotation>
                    <xs:documentation>
                        If the DisableRepair is yes, the Repair button in the Programs Wizard is disabled. Windows Installer's ARPNOREPAIR property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DisableRemove" type="YesNoType">
                <xs:annotation>
                    <xs:documentation>
                        If the DisableRepair is yes, the Remove button in the Programs Wizard is disabled. Windows Installer's ARPNOREMOVE property.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DisplayVersion" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        Product Version of the installed product. Windows Installer's ProductVersion property
                        Required
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedSize" type="xs:positiveInteger">
                <xs:annotation>
                    <xs:documentation>
                        Estimated size of the installed product
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Comments" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        Comments provided to the Add or Remove Programs control panel. Windows Installer's ARPCOMMENTS property
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Readme" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        Readme provided to the Add or Remove Programs control panel. Windows Installer's ARPREADME property
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Contact" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        Contact provided to the Add or Remove Programs control panel. Windows Installer's ARPCONTACT property
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Upgrade">
        <xs:annotation>
            <xs:documentation>
                Optional element that targets other Burn-based bundles to upgrade
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="FamilyId" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                        GUID of the Family that this bundle replaces. FamilyId's ARP will be removed by installing this Bundle.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Update">
        <xs:annotation>
            <xs:documentation>
                Optional element that targets other Burn-based bundles to update
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="BundleId" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                        GUID for the Bundle that this bundle patches. This bundle's ARP, will be placed under BundleId's ARP
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <xs:element name="Variable">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        The unique Id for this variable instance.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Value" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        The value of the variable instance.
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type" use="required">
                <xs:annotation>
                    <xs:documentation>
                        The type of the variable instance.  It can be numeric, string or version.
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="numeric"/>
                        <xs:enumeration value="string"/>
                        <xs:enumeration value="version"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="DirectorySearch">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="exists"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="Path" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Variable" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="FileSearch">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="exists"/>
                        <xs:enumeration value="version"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="Path" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Variable" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="RegistrySearch">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="exists"/>
                        <xs:enumeration value="value"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="Root">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="HKCU"/>
                        <xs:enumeration value="HKLM"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="Key" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Value" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="VariableType">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="numeric"/>
                        <xs:enumeration value="string"/>
                        <xs:enumeration value="version"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
            <xs:attribute name="ExpandEnvironment" type="YesNoType">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Variable" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="MsiComponentSearch">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Condition" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Variable" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ComponentId" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ProductCode" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="keyPath"/>
                        <xs:enumeration value="state"/>
                        <xs:enumeration value="directory"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="MsiProductSearch">
        <xs:annotation>
            <xs:documentation>
                TODO
            </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Condition" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Variable" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ProductCode" type="xs:string">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Type">
                <xs:annotation>
                    <xs:documentation>
                        TODO
                    </xs:documentation>
                </xs:annotation>
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="version"/>
                        <xs:enumeration value="language"/>
                        <xs:enumeration value="state"/>
                        <xs:enumeration value="assignment"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="SystemCheck">
        <xs:annotation>
            <xs:documentation>contains a list of elements for System checks</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="ProcessBlocks" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="ServiceBlocks" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="ProductDriveHints" minOccurs="0" maxOccurs="1"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="ProcessBlocks">
        <xs:annotation>
            <xs:documentation>contains a list of zero or more ProcessBlock elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="ProcessBlock" minOccurs="0" maxOccurs="unbounded"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="ProcessBlock">
        <xs:annotation>
            <xs:documentation>Contains descripton of a process that will block installation if it is running</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ImageName" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>ImageName of a process that would block installation</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="ServiceBlocks">
        <xs:annotation>
            <xs:documentation>contains a list of zero or more ServiceBlock elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="ServiceBlock" minOccurs="0" maxOccurs="unbounded"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="ServiceBlock">
        <xs:annotation>
            <xs:documentation>Contains descripton of a Service that will block installation if it is running</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ServiceName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Service Name of a Service that would block installation</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Configuration">
        <xs:annotation>
            <xs:documentation>Authoring to alter engine behaviour</xs:documentation>
        </xs:annotation>

        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:element ref="DisabledCommandLineSwitches" minOccurs="0" maxOccurs="1" ></xs:element>
                <xs:element ref="AdditionalCommandLineSwitches" minOccurs="0" maxOccurs="1" ></xs:element>
                <xs:element ref="UserExperienceDataCollection" minOccurs="0" maxOccurs="1" ></xs:element>
                <xs:element ref="DownloadInstallSetting" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="BlockingMutex" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="FilesInUseSetting" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="AcceptableCertificates" minOccurs="0" maxOccurs="1"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="DisabledCommandLineSwitches">
        <xs:annotation>
            <xs:documentation>contains a list of command line switches that are disabled</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="CommandLineSwitch" minOccurs="1" maxOccurs="unbounded"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="AdditionalCommandLineSwitches">
      <xs:annotation>
        <xs:documentation>contains a list of additional command line switches which are used only for operand evaluation in the setup authoring</xs:documentation>
      </xs:annotation>
      <xs:complexType>
        <xs:sequence>
          <xs:element ref="CommandLineSwitch" minOccurs="1" maxOccurs="unbounded"></xs:element>
        </xs:sequence>
      </xs:complexType>
    </xs:element>

  <xs:element name="UserExperienceDataCollection">
        <xs:annotation>
            <xs:documentation>Determine the data collection policy.  The default Policy is UserControlled</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:choice minOccurs="0"  maxOccurs="1">
                    <xs:element ref="PatchType" minOccurs="0" maxOccurs="1"></xs:element>
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="Policy" type="UxPolicy" use="optional" >
                <xs:annotation>
                    <xs:documentation>The policy on collecting user's data</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MetricLoader" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>The name of the exe for uploading Metric data</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
  </xs:element>

  <xs:element name=" Certificate ">
    <xs:annotation>
      <xs:documentation>Contains root certificate friendly name and thumbprint</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:attribute name="Name" type="xs:string" use="required">
        <xs:annotation>
          <xs:documentation>Friendly name of certificate, e.g. "Microsoft Root Certificate Authority" </xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="AuthorityKeyIdentifier" type="xs:string" use="required">
        <xs:annotation>
          <xs:documentation>Authority Key Identifier at top of chain, e.g. "a909502dd82ae41433e6f83886b00d4277a32a7b"</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="Thumbprint" type="xs:string" use="optional">
        <xs:annotation>
          <xs:documentation>SHA1 Thumbprint of signing certificate, e.g. "a909502dd82ae41433e6f83886b00d4277a32a7b"</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>

  <xs:element name=" AcceptableCertificates ">
    <xs:annotation>
      <xs:documentation>Contains a list of certificates that are acceptable for signing verification</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="Certificate" minOccurs="1" maxOccurs="unbounded" />
      </xs:sequence>
    </xs:complexType>
  </xs:element>

  <xs:element name="PatchType">
        <xs:annotation>
            <xs:documentation>Determine the servicing train of this package.  The default Type is None</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Type" type="PatchTypeType" use=" required" >
                <xs:annotation>
                    <xs:documentation>The servicing train this package is in..</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="DownloadInstallSetting">
        <xs:annotation>
            <xs:documentation>Determine the data collection policy.  The default Policy is UserControlled</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="SerialDownload" type="BoolType" use=" required" >
                <xs:annotation>
                    <xs:documentation>If True, Simultaneous Download and Install will be disabled. Can be overwritten from command line by passing /serialdownload.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="BlockingMutex">
    <xs:annotation>
      <xs:documentation>Ensures only one instance of chainer is allowed, if authored.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:attribute name="Name" type="xs:string" use="required" >
        <xs:annotation>
          <xs:documentation>Name of the global mutex that will be created to restrict the number of instances of setup to one.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
    </xs:element>

    <xs:element name="FilesInUseSetting">
    <xs:annotation>
      <xs:documentation>Controls if Files In Use UI is prompted to the user or not..</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:attribute name="Prompt" type="BoolType" use=" required" >
        <xs:annotation>
          <xs:documentation>If authored false, any files in use messages from windows installer are 'ignored' and install will continue.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
    </xs:element>
    
    <xs:element name="CommandLineSwitch">
        <xs:annotation>
            <xs:documentation>Contains command line switch name, e.g. quiet</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Name" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Name of switch</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="ProductDriveHints">
        <xs:annotation>
            <xs:documentation>contains a list of hints to search, in order, to find the product drive</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:choice minOccurs="1"  maxOccurs="unbounded">
                    <xs:element ref="ComponentHint" ></xs:element>
                    <xs:element ref="RegKeyHint" ></xs:element>
                </xs:choice>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="ComponentHint">
        <xs:annotation>
            <xs:documentation>hint to use an MSI Component GUID to find the drive letter of the installed product</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Guid" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>the MSI Component GUID</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="RegKeyHint">
        <xs:annotation>
            <xs:documentation>hint to use RegKey value to find the drive letter of the installed product</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Location" type="xs:string" use="required" >
                <!-- TODO: must start with HKLM, HKCR, HKCU, or HKU; then followed by \-delimited text -->
                <xs:annotation>
                    <xs:documentation>RegKey/Value pair; must be a string starting with the drive letter of the installed component</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Items">
        <xs:annotation>
            <xs:documentation>list of one or more Patch elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:choice minOccurs="0"  maxOccurs="unbounded">
                    <xs:element ref="MSI" ></xs:element>
                    <xs:element ref="MSP" ></xs:element>
                    <xs:element ref="Patches" ></xs:element>
                    <xs:element ref="Exe" ></xs:element>
                    <xs:element ref="File" ></xs:element>
                    <xs:element ref="AgileMSI" ></xs:element>
                    <xs:element ref="ServiceControl" ></xs:element>
                    <xs:element ref="CleanupBlock" ></xs:element>
                    <xs:element ref="RelatedProducts"></xs:element>
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="OnSubFailureAction" type="OnSubFailureActionType" use="optional" >
                <xs:annotation>
                    <xs:documentation>Specifies the action to take if one of the items being installed fails.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadRetries" type="xs:unsignedInt" use="optional" >
                <xs:annotation>
                    <xs:documentation>Specifies the number of time to retry a download.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DelayBetweenRetries" type="xs:unsignedInt" use="optional" >
                <xs:annotation>
                    <xs:documentation>Specifies the time, in seconds, to wait between retry.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CopyPackageFilesToDownloadLocation" type="BoolType" use="optional" >
                <xs:annotation>
                    <xs:documentation>Determine if we should copy package files over to the download directory when we are downloading any item.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="MSI">
        <xs:annotation>
            <xs:documentation>Patch info</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="File" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="FileRef" minOccurs="0" maxOccurs="unbounded" />
              <!--<xs:element ref="Features" minOccurs="0" maxOccurs="1" />-->
            </xs:sequence>
            <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Rollback" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should rolback the item in the event of a subsequent item install failure.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ProductCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Prouduct code of the MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>The MSI command-line options to pass in during install</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIUninstallOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>The MSI command-line options to pass in during uninstall</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIRepairOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>Additional MSI command-line options to pass in during repair.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CacheId" type="xs:string" use="required" >
                <xs:annotation>
                  <xs:documentation>
                    Required for all MSI, MSP and  ExeTypes(except local). Used as a unique identifier for the location where the file can be cached
                    Default values should be:
                    Exe: Sha1HashValue
                    MSI: {ProductCode}v{ProductVersion}
                    MSP: {PatchCode}
                  </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>target package name</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Compressed" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Indicates that payload is compressed.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CompressedDownloadSize" type="xs:positiveInteger" use="optional">
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>            
            </xs:attribute>                
            <xs:attribute name="GenerateCompressedHash" type="YesNoType" default="no" use="optional">
                <xs:annotation>
                    <xs:documentation>Serializer only attribute: If yes, then the Sha1HashValue attribute is calculated on CompressedSource and added to the item.  Default is no Sha1HashValue is added.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>            
            </xs:attribute>
            <xs:attribute name="Id" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Unique string to identify this item.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Cache" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If the item is installed on machine, this will control if the item is cached on the machine. Default is that it will be cached.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="AgileMSI">
        <xs:annotation>
            <xs:documentation>Patch info</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <!--<xs:element ref="Features" minOccurs="0" maxOccurs="1" />-->
                <xs:element ref="AgileMSP" minOccurs="1" maxOccurs="unbounded"></xs:element>
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="File" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="FileRef" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Rollback" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should rolback the item in the event of a subsequent item install failure.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the Agile MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ProductCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Prouduct code of the Agile MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>The MSI command-line options to pass in during install</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIUninstallOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>The MSI command-line options to pass in during uninstall</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIRepairOptions" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>Additional MSI command-line options to pass in during repair.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CacheId" type="xs:string" use="required" >
                <xs:annotation>
                  <xs:documentation>
                    Required for all MSI, MSP and  ExeTypes(except local). Used as a unique identifier for the location where the file can be cached
                    Default values should be:
                    Exe: Sha1HashValue
                    MSI: {ProductCode}v{ProductVersion}
                    MSP: {PatchCode}
                  </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>target package name</xs:documentation>
                </xs:annotation>
            </xs:attribute>
       <xs:attribute name="PerMachine" type="BoolType" use="optional">
            <xs:annotation>
                <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
            </xs:annotation>            
        </xs:attribute>
          <xs:attribute name="Id" type="xs:string" use="required" >
            <xs:annotation>
              <xs:documentation>Unique string to identify this item.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
            <xs:attribute name="Cache" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If the item is installed on machine, this will control if the item is cached on the machine. Default is that it will be cached.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="ServiceControl">
        <xs:annotation>
            <xs:documentation>Controls Service (start, stop, pause and resume) operations. Service must be installed already on the machine.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="Name" type="LongFileNameType" use="required">
                <xs:annotation>
                    <xs:documentation>Name of the service</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Control" type="ServiceControlType" use="required">
                <xs:annotation>
                    <xs:documentation>Specifies the action to be performed on the installed service.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Name of the service.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>            
            </xs:attribute>
          <xs:attribute name="Id" type="xs:string" use="required" >
            <xs:annotation>
              <xs:documentation>Unique string to identify this item.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>                   
    </xs:element>

    <xs:element name="MSP">
        <xs:annotation>
            <xs:documentation>Single Patch</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="0" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="File" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="FileRef" minOccurs="0" maxOccurs="unbounded" />
              <!--<xs:element ref="Features" minOccurs="0" maxOccurs="1" />-->
            </xs:sequence>
            <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Rollback" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should rolback the item in the event of a subsequent item install failure.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the patch</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PatchCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Patch code of the MSP</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CacheId" type="xs:string" use="required" >
                <xs:annotation>
                  <xs:documentation>
                    Required for all MSI, MSP and  ExeTypes(except local). Used as a unique identifier for the location where the file can be cached
                    Default values should be:
                    Exe: Sha1HashValue
                    MSI: {ProductCode}v{ProductVersion}
                    MSP: {PatchCode}
                  </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Compressed" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Indicates that payload is compressed.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CompressedDownloadSize" type="xs:positiveInteger" use="optional">
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>            
            </xs:attribute>                
            <xs:attribute name="GenerateCompressedHash" type="YesNoType" default="no" use="optional">
                <xs:annotation>
                    <xs:documentation>Serializer only attribute: If yes, then the Sha1HashValue attribute is calculated on CompressedSource and added to the item.  Default is no Sha1HashValue is added.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>            
            </xs:attribute>
            <xs:attribute name="Id" type="xs:string" use="required" >
              <xs:annotation>
                <xs:documentation>Unique string to identify this item.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Cache" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If the item is installed on machine, this will control if the item is cached on the machine. Default is that it will be cached.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="AgileMSP">
        <xs:annotation>
            <xs:documentation>Single Agile Patch</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the patch</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PatchCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Prouduct code of the MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CacheId" type="xs:string" use="required" >
                <xs:annotation>
                  <xs:documentation>
                    Required for all MSI, MSP and  ExeTypes(except local). Used as a unique identifier for the location where the file can be cached
                    Default values should be:
                    Exe: Sha1HashValue
                    MSI: {ProductCode}v{ProductVersion}
                    MSP: {PatchCode}
                  </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

  <xs:element name="Patches">
    <xs:annotation>
      <xs:documentation>list of one or more Patch elements</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1">
        </xs:element>
        <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
        <xs:element ref="MSP" minOccurs="1" maxOccurs="unbounded">
        </xs:element>
        <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
      </xs:sequence>
      <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
        <xs:annotation>
          <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="Rollback" type="BoolType" use="optional">
        <xs:annotation>
          <xs:documentation>Determine if we should rolback the item in the event of a subsequent item install failure.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="PerMachine" type="BoolType" use="optional">
        <xs:annotation>
          <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
      <xs:attribute name="Id" type="xs:string" use="required" >
        <xs:annotation>
          <xs:documentation>Unique string to identify this item.</xs:documentation>
        </xs:annotation>
      </xs:attribute>
    </xs:complexType>
  </xs:element>

    <xs:element name="CleanupBlock">
        <xs:annotation>
            <xs:documentation>Performs authored cleanup actions.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:choice minOccurs="1" maxOccurs="unbounded">
                    <xs:element ref="RemovePatch" minOccurs="1" maxOccurs="unbounded" />
                    <xs:element ref="UnAdvertiseFeatures" minOccurs="1" maxOccurs="unbounded" />
                    <xs:element ref="RemoveProduct" minOccurs="1" maxOccurs="unbounded" />
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="Name" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>Name to identify this item in the log. If not supplied, 'CleanupBlock' string will be used.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>User friendly name that identifies this item on UI pages..</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>Weight for Install time, in bytes for this operation to be completed.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DoUnAdvertiseFeaturesOnRemovePatch" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if after the Patch is removed, we should unadvertises advertised features for the product. Default = true.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>            
            </xs:attribute>
            <xs:attribute name="Id" type="xs:string" use="required" >
              <xs:annotation>
                <xs:documentation>Unique string to identify this item.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

<xs:element name="RemovePatch">
  <xs:annotation>
    <xs:documentation>A single patch to uninstall from all products that it targets. Also un advertises any features found in that state.</xs:documentation>
  </xs:annotation>
  <xs:complexType>
    <xs:attribute name="PatchCode" type="GuidType" use="required" >
      <xs:annotation>
        <xs:documentation>Patch GUID</xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>
</xs:element>

    <xs:element name="UnAdvertiseFeatures">
        <xs:annotation>
            <xs:documentation>Unadvertises advertised features for the product.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ProductCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Product Code (GUID)</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="RemoveProduct">
        <xs:annotation>
            <xs:documentation>Uninstalls the product .</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ProductCode" type="GuidType" use="required" >
                <xs:annotation>
                    <xs:documentation>Product Code (GUID)</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>



    <xs:element name="Exe">
        <xs:annotation>
            <xs:documentation>Single raw .exe</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <!--<xs:element ref="Features" minOccurs="0" maxOccurs="1" />-->
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="RepairOverride" minOccurs="0" maxOccurs="1" />
                <xs:element ref="UninstallOverride" minOccurs="0" maxOccurs="1" />
                <xs:element ref="File" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="FileRef" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Rollback" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should rolback the item in the event of a subsequent item install failure.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the raw .exe</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CacheId" type="xs:string" use="optional" >
                <xs:annotation>
                  <xs:documentation>
                    Required for all MSI, MSP and  ExeTypes(except local). Used as a unique identifier for the location where the file can be cached
                    Default values should be:
                    Exe: Sha1HashValue
                    MSI: {ProductCode}v{ProductVersion}
                    MSP: {PatchCode}
                  </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstallCommandLine" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>install command line</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="UninstallCommandLine" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>uninstall command line</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="RepairCommandLine" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Repair command line</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="LogFileHint" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>Hint of the name of the log file the Exe will produce</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>target package name</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ExeType" type="ExeTypeType" use="optional" >
                <xs:annotation>
                    <xs:documentation>Cartman, IronMan, HotIron, MsuPackage, LocalExe or Unknown .exe type</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Compressed" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Indicates that payload is compressed.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CompressedDownloadSize" type="xs:positiveInteger" use="optional">
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>            
            </xs:attribute>                
            <xs:attribute name="GenerateCompressedHash" type="YesNoType" default="no" use="optional">
                <xs:annotation>
                    <xs:documentation>Serializer only attribute: If yes, then the Sha1HashValue attribute is calculated on CompressedSource and added to the item.  Default is no Sha1HashValue is added.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
          <xs:attribute name="Id" type="xs:string" use="required" >
            <xs:annotation>
              <xs:documentation>Unique string to identify this item.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
            <xs:attribute name="Cache" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If the item is installed on machine, this will control if the item is cached on the machine. Default is that it will be cached.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="File">
        <xs:annotation>
            <xs:documentation>downloadable item which does not directly need installing</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="0" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="0" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="0" maxOccurs="1" />
                <xs:element ref="File" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="FileRef" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="IgnoreDownloadFailure" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Determine if we should ignore the return code and return S_OK.  Default = False.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Name" type="LongFileNameType" use="required" >
                <xs:annotation>
                    <xs:documentation>filename of the local copy of the file</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
                <xs:annotation>
                    <xs:documentation>URL of the file to download if necessary</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="required" >
                <xs:annotation>
                    <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
                <xs:annotation>
                    <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Compressed" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Indicates that payload is compressed.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CompressedDownloadSize" type="xs:positiveInteger" use="optional">
                <xs:annotation>
                    <xs:documentation>The size of the item in bytes </xs:documentation>
                </xs:annotation>            
            </xs:attribute>                
            <xs:attribute name="GenerateCompressedHash" type="YesNoType" default="no" use="optional">
                <xs:annotation>
                    <xs:documentation>Serializer only attribute: If yes, then the Sha1HashValue attribute is calculated on CompressedSource and added to the item.  Default is no Sha1HashValue is added.</xs:documentation>
                </xs:annotation>
            </xs:attribute>            
          <xs:attribute name="Id" type="xs:string" use="required" >
            <xs:annotation>
              <xs:documentation>Unique string to identify this item.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
            <xs:attribute name="Cache" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If the item is installed on machine, this will control if the item is cached on the machine. Default is that it will be cached.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="FileRef">
        <xs:annotation>
            <xs:documentation>Reference to a File Payload</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="Id" type="xs:string" use="required" >
            <xs:annotation>
              <xs:documentation>Unique string to identify this item.</xs:documentation>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="RelatedProducts">
        <xs:annotation>
            <xs:documentation>Products on the system to repair or uninstall</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="IsPresent" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ApplicableIf" minOccurs="1" maxOccurs="1" />
                <xs:element ref="ActionTable" minOccurs="1" maxOccurs="1" />
                <xs:element ref="CustomErrorHandling" minOccurs="0" maxOccurs="1" />
                <xs:element ref="RetryHelper" minOccurs="0" maxOccurs="unbounded" />
                <xs:element ref="Relation" minOccurs="1" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="Name" type="LongFileNameType" use="required">
                <xs:annotation>
                    <xs:documentation>filename of the MSI</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIUninstallOptions" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>Additional MSI command-line options to pass in during uninstall</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="MSIRepairOptions" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>Additional MSI command-line options to pass in during repair.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="EstimatedInstallTime" type="xs:nonNegativeInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The estimated install time in seconds.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CanonicalTargetName" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>Name of the related Product Family</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="PerMachine" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>Controls if the package is executed in elevated process (if true) or not. Default value if not authored is false.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Id" type="xs:string" use="required" >
              <xs:annotation>
                <xs:documentation>Unique string to identify this item.</xs:documentation>
              </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <xs:element name="Relation">
        <xs:annotation>
            <xs:documentation>Determines a set of products to repair/uninstall as part of related producst handling </xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="SkipProduct" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="UpgradeCode" type="GuidType" use="required">
                <xs:annotation>
                    <xs:documentation>UpgradeCode GUID identifying the family of related products</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name ="VersionMin" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>Lower boundary of the range of product versions to be detected. </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name ="VersionMinInclusive" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If true, detects the range of versions including the value in VersionMin. </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name ="VersionMax" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>Upper boundary of the range of product versions to be detected. </xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name ="VersionMaxInclusive" type="BoolType" use="optional">
                <xs:annotation>
                    <xs:documentation>If true, detects the range of versions including the value in VersionMax. </xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="SkipProduct">
        <xs:annotation>
            <xs:documentation>Product to be skipped when repairing/uninstalling through RelatedProducts element</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ProductCode" type="GuidType" use="required">
                <xs:annotation>
                    <xs:documentation>Product code of the MSI to be skipped when repairing/uninstalling through RelatedProducts element</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:attributeGroup name="HelperExeAttributes">
        <xs:annotation>
            <xs:documentation>Helper Exe Attribute groups</xs:documentation>
        </xs:annotation>
        <xs:attribute name="Name" type="LongFileNameType" use="required" >
            <xs:annotation>
                <xs:documentation>filename of the raw .exe</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="CommandLine" type="xs:string" use="required" >
            <xs:annotation>
                <xs:documentation>command line</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="CanonicalTargetName" type="xs:string" use="required" >
            <xs:annotation>
                <xs:documentation>target package name</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="URL" type="MicrosoftURLType" use="optional" >
            <xs:annotation>
                <xs:documentation>URL of the file to download if necessary</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="DownloadSize" type="xs:positiveInteger" use="optional" >
            <xs:annotation>
                <xs:documentation>The size of the item in bytes</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="SystemDriveSize" type="xs:nonNegativeInteger" use="optional" >
            <xs:annotation>
                <xs:documentation>The estimated size that the item will take on the system drive in bytes </xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="InstalledProductSize" type="xs:nonNegativeInteger" use="optional" >
            <xs:annotation>
                <xs:documentation>The estimated size that the item will take on the drive the Product is installed on in bytes </xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="Sha1HashValue" type="SHA1HashType" use="optional" >
            <xs:annotation>
                <xs:documentation>The SHA1 hash value of the file being downloaded</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="LogFileHint" type="xs:string" use="optional" >
            <xs:annotation>
                <xs:documentation>Hint of the name of the log file the Exe will produce</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="ExeType" type="ExeTypeType" use="optional" >
            <xs:annotation>
                <xs:documentation>Cartman, IronMan, HotIron, MsuPackage, LocalExe or Unknown .exe type</xs:documentation>
            </xs:annotation>
        </xs:attribute>
        <xs:attribute name="Id" type="xs:string" use="required" >
          <xs:annotation>
            <xs:documentation>Unique string to identify this item.</xs:documentation>
          </xs:annotation>
        </xs:attribute>
    </xs:attributeGroup>

    <xs:element name="RepairOverride">
        <xs:annotation>
            <xs:documentation>Exe that will be used to repair the item.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="HelperExeAttributes"></xs:attributeGroup>
        </xs:complexType>
    </xs:element>

    <xs:element name="UninstallOverride">
        <xs:annotation>
            <xs:documentation>Exe that will be used to Uninstall the item.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="HelperExeAttributes"></xs:attributeGroup>
        </xs:complexType>
    </xs:element>

    <xs:element name="RetryHelper">
        <xs:annotation>
            <xs:documentation>Exe that will be used to Retry after the item returns a specific retry return code.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="HelperExeAttributes"></xs:attributeGroup>
        </xs:complexType>
    </xs:element>

    <!-- *************************************************************************************************************************** -->
    <!-- ************************************* Expressions ************************************************************************* -->
    <!-- *************************************************************************************************************************** -->

    <!-- global Attribute Groups -->
    <xs:attributeGroup name="ExpressionAttributes">
        <xs:attribute name="LeftHandSide" type="xs:string" use="required" />
        <xs:attribute name="BoolWhenNonExistent" type="BoolType" use="required" />
        <xs:attribute name="Id" type="xs:string" use="optional" >
            <xs:annotation>
                <xs:documentation>An unique value that identifies this expression block</xs:documentation>
            </xs:annotation>
        </xs:attribute>
    </xs:attributeGroup>

    <!-- Element Groups -->
    <xs:group name="Expressions">
        <xs:choice>
            <xs:element ref="And" ></xs:element>
            <xs:element ref="Or" ></xs:element>
            <xs:element ref="Not" ></xs:element>
            <xs:element ref="LessThan" ></xs:element>
            <xs:element ref="LessThanOrEqualTo" ></xs:element>
            <xs:element ref="Equals" ></xs:element>
            <xs:element ref="GreaterThanOrEqualTo" ></xs:element>
            <xs:element ref="GreaterThan" ></xs:element>
            <xs:element ref="Exists" ></xs:element>
            <xs:element ref="AlwaysTrue" ></xs:element>
            <xs:element ref="NeverTrue" ></xs:element>
            <xs:element ref="ExpressionAlias"></xs:element>
        </xs:choice>
    </xs:group>

    <xs:element name="IsPresent">
        <xs:annotation>
            <xs:documentation>element that wraps a bunch of expressions and operands, to decide if its parent has been installed based on the state of this machine</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="Expressions" />
            </xs:choice>
        </xs:complexType>
    </xs:element>

    <xs:element name="ApplicableIf">
        <xs:annotation>
            <xs:documentation>element that wraps a bunch of expressions and operands, to decide if its parent is to be installed based on the state of this machine</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="Expressions" />
            </xs:choice>
        </xs:complexType>
    </xs:element>

    <xs:element name="ActionTable">
        <xs:annotation>
            <xs:documentation>per item table that specifies what operation to take:  column == absent or present, row=installing, uninstalling and repairing</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" maxOccurs="1" >
                <xs:element ref="InstallAction"   minOccurs="1" maxOccurs="1" />
                <xs:element ref="UninstallAction" minOccurs="1" maxOccurs="1" />
                <xs:element ref="RepairAction"    minOccurs="1" maxOccurs="1" />
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="CustomErrorHandling">
        <xs:annotation>
            <xs:documentation>The custom errors helping block that defines how to handle specific errors.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" maxOccurs="unbounded" >
                <xs:element ref="CustomError" />
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="CustomError">
        <xs:annotation>
            <xs:documentation>Define the specific action to be taken.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1"  maxOccurs="1">
                <xs:element ref="Success" ></xs:element>
                <xs:element ref="Failure" ></xs:element>
                <xs:element ref="Retry" ></xs:element>
            </xs:choice>
            <xs:attribute name="ReturnCode" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>The return code that the CustomError element is handling.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Success">
        <xs:annotation>
            <xs:documentation>To exit the current item install with S_OK.</xs:documentation>
        </xs:annotation>
    </xs:element>

    <xs:element name="Failure">
        <xs:annotation>
            <xs:documentation>To exit the current item install with E_FAIL.</xs:documentation>
        </xs:annotation>
    </xs:element>

    <xs:element name="Retry">
        <xs:annotation>
            <xs:documentation>Define the specific of retrying</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="0" maxOccurs="1" >
                <xs:element ref="ItemRef"/>
            </xs:sequence>
            <xs:attribute name="Delay" type="xs:positiveInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The number of seconds to delay before re-trying.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Limit" type="xs:positiveInteger" use="required">
                <xs:annotation>
                    <xs:documentation>The number of time to retry.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="ItemRef">
        <xs:annotation>
            <xs:documentation>Define the helper item to be executed.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Name" type="xs:string" use="required">
                <xs:annotation>
                    <xs:documentation>The name of the Helper Item to execute.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="CommandLine" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>The commandline argument to overwrite default CommandLine.  If it is not specified, it would use the Command line specify in the Helper item.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="LogFile" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>The name of the Log file that the Helper Item will generate.  If it is not specified, it would use the Log file hint specify in the Helper item.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:attributeGroup name="ActionAttributes">
        <xs:attribute name="IfPresent" type="ActionType" use="required" />
        <xs:attribute name="IfAbsent"  type="ActionType" use="required" />
    </xs:attributeGroup>

    <xs:element name="InstallAction">
        <xs:annotation>
            <xs:documentation>what install actions should be taken when item is present and absent on the user's box</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="ActionAttributes" />
            <xs:attribute name="OnFailureBehavior" type="OnInstallFailureActionType" use="optional" />
        </xs:complexType>
    </xs:element>

    <xs:element name="UninstallAction">
        <xs:annotation>
            <xs:documentation>what uninstall actions should be taken when item is present and absent on the user's box</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="ActionAttributes" />
            <xs:attribute name="OnFailureBehavior" type="OnFailureActionType" use="optional" />
        </xs:complexType>
    </xs:element>

    <xs:element name="RepairAction">
        <xs:annotation>
            <xs:documentation>what repair actions should be taken when item is present and absent on the user's box</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attributeGroup ref="ActionAttributes" />
            <xs:attribute name="OnFailureBehavior" type="OnFailureActionType" use="optional" />
        </xs:complexType>
    </xs:element>

    <xs:element name="BlockIf">
        <xs:annotation>
            <xs:documentation>element that wraps a bunch of expressions and operands, to decide if the package is to be installed based on the state of this machine</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="Expressions" />
            </xs:choice>
            <xs:attribute name="DisplayText" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>Text to display if the block condition evaluates to false.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="ID" type="Character64Type" use="optional" >
                <xs:annotation>
                    <xs:documentation>A nonlocalized string of 64 characters or fewer describing the blocker.  Used to Id the blocker during reporting.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="BlockIfGroup">
        <xs:annotation>
            <xs:documentation>list of one or more BlockIf elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="BlockIf" minOccurs="1" maxOccurs="unbounded"></xs:element>
            </xs:sequence>
            <xs:attribute name="DisplayText" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Text to display if the block condition evaluates to false.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

  <xs:element name="SuccessBlockers">
    <xs:annotation>
      <xs:documentation>List of BlockIf or BlockIfGroup elements. If any one of them is true installation will be skipped.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:sequence minOccurs="1">
        <xs:choice minOccurs="0" maxOccurs="unbounded">
          <xs:element ref="BlockIf" />
          <xs:element ref="BlockIfGroup" />
        </xs:choice>
      </xs:sequence>
    </xs:complexType>
  </xs:element>

    <xs:element name="StopBlockers">
        <xs:annotation>
            <xs:documentation>List of BlockIf or BlockIfGroup elements. If any one of them is true installation cannot continue.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:choice minOccurs="0"  maxOccurs="unbounded">
                    <xs:element ref="BlockIf" ></xs:element>
                    <xs:element ref="BlockIfGroup" ></xs:element>
                </xs:choice>
            </xs:sequence>
            <xs:attribute name="ReturnCode" type="xs:string" use="optional">
                <xs:annotation>
                    <xs:documentation>The return code that the will be returned if the StopBlockers element causes intallation to stop.  Default is S_FALSE(1)</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="WarnBlockers">
        <xs:annotation>
            <xs:documentation>List of BlockIf or BlockIfGroup elements. If any one of them is true and there is no stop blocks, a warning is displayed to the user.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence minOccurs="1" >
                <xs:choice minOccurs="0"  maxOccurs="unbounded">
                    <xs:element ref="BlockIf" ></xs:element>
                    <xs:element ref="BlockIfGroup" ></xs:element>
                </xs:choice>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="Blockers">
        <xs:annotation>
            <xs:documentation>A StopBlockers element, and/or a WarnBlockers element</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="SuccessBlockers" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="StopBlockers" minOccurs="0" maxOccurs="1"></xs:element>
                <xs:element ref="WarnBlockers" minOccurs="0" maxOccurs="1"></xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="And">
        <xs:annotation>
            <xs:documentation>(Expression) Logical AND of 2 child elements (either other expressions or operands)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="2" maxOccurs="2">
                <xs:group ref="Expressions" />
            </xs:choice>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>AAn unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Or">
        <xs:annotation>
            <xs:documentation>(Expression) Logical OR of 2 child elements (either other expressions or operands)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="2" maxOccurs="2">
                <xs:group ref="Expressions" />
            </xs:choice>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="Not">
        <xs:annotation>
            <xs:documentation>(Expression) Logical NOT of 1 child element (either another expression or an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="Expressions" />
            </xs:choice>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="LessThan">
        <xs:annotation>
            <xs:documentation>(Expression) Arithmetic 'less than' of 1 child element (an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="OperandsLessThanGreaterThan" />
            </xs:choice>
            <xs:attributeGroup ref="ExpressionAttributes" />
        </xs:complexType>
    </xs:element>

    <xs:element name="LessThanOrEqualTo">
        <xs:annotation>
            <xs:documentation>(Expression) Arithmetic 'less than or equal to' of 1 child element (an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="OperandsLessThanGreaterThan" />
            </xs:choice>
            <xs:attributeGroup ref="ExpressionAttributes" />
        </xs:complexType>
    </xs:element>

    <xs:element name="Equals">
        <xs:annotation>
            <xs:documentation>(Expression) Arithmetic 'equals' of 1 child element (an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="OperandsEquality" />
            </xs:choice>
            <xs:attributeGroup ref="ExpressionAttributes" />
        </xs:complexType>
    </xs:element>

    <xs:element name="GreaterThanOrEqualTo">
        <xs:annotation>
            <xs:documentation>(Expression) Arithmetic 'greater than or equal to' of 1 child element (an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="OperandsLessThanGreaterThan" />
            </xs:choice>
            <xs:attributeGroup ref="ExpressionAttributes" />
        </xs:complexType>
    </xs:element>

    <xs:element name="GreaterThan">
        <xs:annotation>
            <xs:documentation>(Expression) Arithmetic 'greater than' of 1 child element (an operand)</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:group ref="OperandsLessThanGreaterThan" />
            </xs:choice>
            <xs:attributeGroup ref="ExpressionAttributes" />
        </xs:complexType>
    </xs:element>

    <xs:element name="Exists">
        <xs:annotation>
            <xs:documentation>returns true when the operand exists</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:element ref="FileVersion" ></xs:element>
                <xs:element ref="MsiProductVersion" ></xs:element>
                <xs:element ref="MsiGetCachedPatchPath" ></xs:element>
                <xs:element ref="Path" ></xs:element>
                <xs:element ref="RegKey" ></xs:element>
                <xs:element ref="MsiXmlBlob" ></xs:element>
                <xs:element ref="IsAdministrator"></xs:element>
                <xs:element ref="CommandLineSwitch"></xs:element>
                <xs:element ref="RebootPending"></xs:element>
                <xs:element ref="IsInOSCompatibilityMode"></xs:element>
            </xs:choice>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="ExpressionAlias">
        <xs:annotation>
            <xs:documentation>An Expression Reference</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="AlwaysTrue">
        <xs:annotation>
            <xs:documentation>Always return true</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <xs:element name="NeverTrue">
        <xs:annotation>
            <xs:documentation>Always return false</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Id" type="xs:string" use="optional" >
                <xs:annotation>
                    <xs:documentation>An unique value that identifies this expression block</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
    <!-- *************************************************************************************************************************** -->
    <!-- ***************************************************** Operands ************************************************************ -->
    <!-- *************************************************************************************************************************** -->

    <!--  <xs:any namespace="##any" processContents="lax" /> -->

    <xs:group name="OperandsLessThanGreaterThan">
        <xs:choice>
            <xs:element ref="MsiProductVersion" ></xs:element>
            <xs:element ref="FileVersion" ></xs:element>
            <xs:element ref="TargetOS" ></xs:element>
            <xs:element ref="RegKeyValue" ></xs:element>
            <xs:element ref="RegKeyFileVersion"></xs:element>
        </xs:choice>
    </xs:group>

    <xs:group name="OperandsEquality">
        <xs:choice>
            <xs:element ref="MsiProductVersion" ></xs:element>
            <xs:element ref="MsiGetCachedPatchPath" ></xs:element>
            <xs:element ref="FileVersion" ></xs:element>
            <xs:element ref="TargetArchitecture" ></xs:element>
            <xs:element ref="TargetOS" ></xs:element>
            <xs:element ref="TargetOSType" ></xs:element>
            <xs:element ref="RegKeyValue" ></xs:element>
            <xs:element ref="RegKeyFileVersion"></xs:element>
            <xs:element ref="IsAdministrator"></xs:element>
            <xs:element ref="IsInOSCompatibilityMode"></xs:element>
            <xs:element ref="HasAdvertisedFeatures"></xs:element>
            <xs:element ref="LCID"></xs:element>
            <xs:element ref="Operation"></xs:element>
        </xs:choice>
    </xs:group>

    <xs:element name="MsiProductVersion">
        <xs:annotation>
            <xs:documentation>returns the Msi Version, given a ProductCode</xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="ProductCode" type="GuidOrSelfType" use="required" />
          <xs:attribute name="ProductVersion" type="xs:string" use="optional" />
        </xs:complexType>
    </xs:element>

    <xs:element name="MsiGetCachedPatchPath" >
        <xs:annotation>
            <xs:documentation>returns the path to the local, cached MSP file, given a ProductCode</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="PatchCode" type="GuidOrSelfType" use="required" />
        </xs:complexType>
    </xs:element>

    <xs:element name="FileVersion">
        <xs:annotation>
            <xs:documentation>returns the File Version, given a path</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Location" type="xs:string" use="required" />
            <!-- NOTE: this isn't right, and the LongFileNameType below isn't right either.  We need to support %windir%\blah.txt file names -->
        </xs:complexType>
    </xs:element>

  <xs:element name="RegKeyFileVersion">
    <xs:annotation>
      <xs:documentation>returns the File Version, given a registry key, if the key value is a path to a file and the file exists.</xs:documentation>
    </xs:annotation>
    <xs:complexType>
      <xs:attribute name="Location" type="xs:string" use="required" />
    </xs:complexType>
  </xs:element>

    <xs:element name="TargetArchitecture">
        <xs:annotation>
            <xs:documentation>returns chip architecture, one of the following:  x86, x64 or ia64.  These DON'T match Wix and Decatur</xs:documentation>
        </xs:annotation>
        <xs:complexType />
    </xs:element>

    <xs:element name="TargetOS">
        <xs:annotation>
            <xs:documentation>returns OS in the following format:  "#.#.#" the first number is the major version, the second is the minor version and the third is the SP number.  So for example, XPSP2 is "5.1.2".  Note that to distinguish workstation from server, you need to look at TargetOSType</xs:documentation>
        </xs:annotation>
        <xs:complexType />
    </xs:element>

    <xs:element name="TargetOSType">
        <xs:annotation>
            <xs:documentation>returns OS type, either "Server" or "Client".</xs:documentation>
        </xs:annotation>
        <xs:complexType />
    </xs:element>

    <xs:element name="RegKeyValue">
        <xs:annotation>
            <xs:documentation>returns the value of a RegKey</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Location" type="xs:string" use="required" />
            <!-- TODO: must start with HKLM, HKCR, HKCU, or HKU; then followed by \-delimited text -->
        </xs:complexType>
    </xs:element>

    <!-- existence only ops -->
    <xs:element name="Path">
        <xs:annotation>
            <xs:documentation>checks for Path's existence</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Location" type="xs:string" use="required" />
            <!-- NOTE: this isn't right, and the LongFileNameType below isn't right either.  We need to support %windir%\blah.txt file names -->
        </xs:complexType>
    </xs:element>

    <xs:element name="RegKey">
        <xs:annotation>
            <xs:documentation>checks for existence of a Registry Key or RegKey+Value pair</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="Location" type="xs:string" use="required" />
            <!-- TODO: must start with HKLM, HKCR, HKCU, or HKU; then followed by \-delimited text -->
        </xs:complexType>
    </xs:element>

    <xs:element name="MsiXmlBlob">
        <xs:annotation>
            <xs:documentation>our element that wraps MSI's MsiPatch element, which is an opaque blob that we get back from calling MsiExtractPatchXMLData; used to determine whether a patch applies to any products on the box, without having the .msp file</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="1">
                <xs:sequence>
                    <xs:any namespace="##any" processContents="lax" minOccurs="0" maxOccurs="unbounded" />
                </xs:sequence>
            </xs:choice>
            <xs:anyAttribute namespace="##any" processContents="lax" />
        </xs:complexType>
    </xs:element>

    <xs:element name="IsAdministrator">
        <xs:annotation>
            <xs:documentation>checks if current user is in the Administrators local group; can only be used with Exists expression</xs:documentation>
        </xs:annotation>
        <xs:complexType></xs:complexType>
    </xs:element>

    <xs:element name="IsInOSCompatibilityMode">
        <xs:annotation>
            <xs:documentation>checks if current process is running in Compability Mode; can only be used with Exists expression</xs:documentation>
        </xs:annotation>
        <xs:complexType>
        </xs:complexType>
    </xs:element>
    
    <xs:element name="HasAdvertisedFeatures">
        <xs:annotation>
            <xs:documentation>return true if there are any Advertised Features for the given ProductCode.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ProductCode" type="GuidType" use="required" />
        </xs:complexType>
    </xs:element>

    <xs:element name="RebootPending">
        <xs:annotation>
            <xs:documentation>checks if there is a pending reboot</xs:documentation>
        </xs:annotation>
        <xs:complexType></xs:complexType>
    </xs:element>

    <xs:element name="LCID">
        <xs:annotation>
            <xs:documentation>Return the LCID the package is using.  For example 1033.</xs:documentation>
        </xs:annotation>
        <xs:complexType>
        </xs:complexType>
    </xs:element>

    <xs:element name="Operation">
        <xs:annotation>
            <xs:documentation>Return the mode the operation is in - installing, uninstalling or repairing</xs:documentation>
        </xs:annotation>
        <xs:complexType>
        </xs:complexType>
    </xs:element>

    <!-- *************************************************************************************************************************** -->
    <!-- ***************************************************** Features ************************************************************ -->
    <!-- *************************************************************************************************************************** -->


    <xs:element name="Features">
        <xs:annotation>
            <xs:documentation>root of a tree of Feature elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:choice minOccurs="1" maxOccurs="unbounded" >
                <xs:element ref="Feature" />
            </xs:choice>
        </xs:complexType>
    </xs:element>

    <xs:element name="Feature">
        <xs:annotation>
            <xs:documentation>a Feature is uniquely identified by a man-readable ID; has a description, selection state and possibly sub-features</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="Feature" minOccurs="0" maxOccurs="unbounded" />
            </xs:sequence>
            <xs:attribute name="ID" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>man-readable ID of this feature</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="Description" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>description of this feature</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="DefaultSelectionState" type="BoolType" use="required" >
                <xs:annotation>
                    <xs:documentation>is this Feature seleted by default</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>

    <!-- N.B.:  note that this is not quite right.  We need to allow '\', ':', etc. chars, and the $(loc.VARIABLE) stuff is unnecessary -->
    <xs:simpleType name="LongFileNameType">
        <xs:annotation>
            <xs:documentation>Values of this type will look like: "Long File Name.extension".  Legal long names contain no more than 260 characters and must contain at least one non-period character.  The following characters are not allowed: \ ? | &gt; : / * " or less-than.  The name must be shorter than 260 characters.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="[^\?|&gt;&lt;:/\*&quot;]{1,259}|([!$])\(loc\.[_A-Za-z][0-9A-Za-z_.]*\)" />
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="MicrosoftURLType">
        <xs:annotation>
            <xs:documentation>Values of this type will look like: "http://blah.microsoft.com/sdlfksldfj/lksjdf".</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="http://[^/].*microsoft.com/.*" />
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="OnSubFailureActionType">
        <xs:annotation>
            <xs:documentation>Specifies the action to take if one of the items being installed fails.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Rollback"/>
            <xs:enumeration value="Stop"/>
            <xs:enumeration value="Continue"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="OnInstallFailureActionType">
        <xs:annotation>
            <xs:documentation>Specifies the action to take if one of the items being installed fails.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Rollback"/>
            <xs:enumeration value="Stop"/>
            <xs:enumeration value="Continue"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="OnFailureActionType">
        <xs:annotation>
            <xs:documentation>Specifies the action to take if one of the items being repaired or uninstall fails.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Stop"/>
            <xs:enumeration value="Continue"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ExeTypeType">
        <xs:annotation>
            <xs:documentation>Specifies the type of .exe that we know about</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Cartman"/>
            <xs:enumeration value="HotIron"/>
            <xs:enumeration value="IronMan"/>
            <xs:enumeration value="MsuPackage"/>
            <xs:enumeration value="LocalExe"/>
            <xs:enumeration value="Unknown"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ServiceControlType">
        <xs:annotation>
            <xs:documentation>Specifies the action to be performed on the installed service.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Start"/>
            <xs:enumeration value="Stop"/>
            <xs:enumeration value="Pause"/>
            <xs:enumeration value="Resume"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="UxPolicy">
        <xs:annotation>
            <xs:documentation>Specifies the action to be performed on the installed service.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="Disabled"/>
            <xs:enumeration value="UserControlled"/>
            <xs:enumeration value="AlwaysUploaded"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="PatchTypeType">
        <xs:annotation>
            <xs:documentation>Specifies the action to be performed on the installed service.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:NMTOKEN">
            <xs:enumeration value="None" />
            <xs:enumeration value="LDR" />
            <xs:enumeration value="GDR" />
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="GuidType">
        <xs:annotation>
            <xs:documentation>Values of this type will look like: "{01234567-89AB-CDEF-0123-456789ABCDEF}".</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="[{]?[0-9A-Fa-f]{8}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{12}[}]"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="GuidOrSelfType">
        <xs:annotation>
            <xs:documentation>Values of this type will look like: "{01234567-89AB-CDEF-0123-456789ABCDEF}" or "Self"</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="([{]?[0-9A-Fa-f]{8}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{12}[}])|(Self)"/>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="SHA1HashType">
        <xs:annotation>
            <xs:documentation>This will be a string of hex digits in multiples of 2.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="([0-9a-fA-F]{40})+"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="SHA256HashType">
        <xs:annotation>
            <xs:documentation>This will be a string of hex digits in multiples of 2.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="([0-9a-fA-F]{64})+"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="BoolType">
        <xs:annotation>
            <xs:documentation>Values of this type determine the target architecture for which the patch is applicable.</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="true"/>
            <xs:enumeration value="false"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ActionType">
        <xs:annotation>
            <xs:documentation>whether to install, uninstall, repair, or noop</xs:documentation>
        </xs:annotation>
        <xs:restriction base='xs:NMTOKEN'>
            <xs:enumeration value="install"/>
            <xs:enumeration value="uninstall"/>
            <xs:enumeration value="repair"/>
            <xs:enumeration value="noop"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="ReturnCodeType">
        <xs:annotation>
            <xs:documentation>Hex or Decimal number with or without a +/- sign.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="([\+\-]?0[xX][0-9a-fA-F]{1,8})|([\+\-]?[1-9][0-9]*)" />
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="Character64Type">
        <xs:annotation>
            <xs:documentation>A string that has at least one and at most 64 characters</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value=".{1,64}"/>
        </xs:restriction>
    </xs:simpleType>
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <!--  Saving UUID and GUID type schemas in case we need it - - - - - - - -->
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

    <!-- save as samples 
  <xs:simpleType name="uuid">
    <xs:annotation>
      <xs:documentation>Values of this type will look like: "01234567-89AB-CDEF-0123-456789ABCDEF".</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9A-Fa-f]{8}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{12}"/>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="Guid">
    <xs:annotation>
      <xs:documentation>Values of this type will look like: "01234567-89AB-CDEF-0123-456789ABCDEF" or "{01234567-89AB-CDEF-0123-456789ABCDEF}". Also allows "PUT-GUID-HERE" for use in examples.</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[{(]?[0-9A-Fa-f]{8}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{12}[})]?|PUT\-GUID\-HERE"/>
    </xs:restriction>
  </xs:simpleType>
-->



    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <!-- - - - - - - - - - - Simple Types      - - - - - - - - - - - - - - - -->
    <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->

  <xs:simpleType name="YesNoType">
    <xs:annotation>
      <xs:documentation>Values of this type will either be "yes" or "no".</xs:documentation>
    </xs:annotation>
    <xs:restriction base='xs:NMTOKEN'>
      <xs:enumeration value="no"/>
      <xs:enumeration value="yes"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- save as samples of how to do simple types

  <xs:simpleType name="uuid">
    <xs:annotation>
      <xs:documentation>Values of this type will look like: "01234567-89AB-CDEF-0123-456789ABCDEF".</xs:documentation>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:pattern value="[0-9A-Fa-f]{8}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{4}\-?[0-9A-Fa-f]{12}"/>
    </xs:restriction>
  </xs:simpleType>

  <xs:simpleType name="LangType">
    <xs:annotation>
      <xs:documentation>Values of this type are the DevDiv permitted values.</xs:documentation>
    </xs:annotation>
    <xs:restriction base='xs:NMTOKEN'>
      <xs:enumeration value="multi"/>
      <xs:enumeration value="all"/>
      <xs:enumeration value="ara"/>
      <xs:enumeration value="cat"/>
      <xs:enumeration value="chh"/>
      <xs:enumeration value="chs"/>
      <xs:enumeration value="cht"/>
      <xs:enumeration value="csy"/>
      <xs:enumeration value="dan"/>
      <xs:enumeration value="deu"/>
      <xs:enumeration value="ell"/>
      <xs:enumeration value="enu"/>
      <xs:enumeration value="esn"/>
      <xs:enumeration value="euq"/>
      <xs:enumeration value="fin"/>
      <xs:enumeration value="fra"/>
      <xs:enumeration value="heb"/>
      <xs:enumeration value="hin"/>
      <xs:enumeration value="hun"/>
      <xs:enumeration value="ita"/>
      <xs:enumeration value="jpn"/>
      <xs:enumeration value="kor"/>
      <xs:enumeration value="nld"/>
      <xs:enumeration value="nor"/>
      <xs:enumeration value="plk"/>
      <xs:enumeration value="ptb"/>
      <xs:enumeration value="ptg"/>
      <xs:enumeration value="ploc"/>
      <xs:enumeration value="rus"/>
      <xs:enumeration value="sky"/>
      <xs:enumeration value="slv"/>
      <xs:enumeration value="sve"/>
      <xs:enumeration value="tha"/>
      <xs:enumeration value="trk"/>
    </xs:restriction>
  </xs:simpleType>
-->

    <xs:simpleType name="LangIDType">
        <xs:annotation>
            <xs:documentation>This will be a 4 digit unsigned integer.</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="[0-9]{4}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="TextIDType">
        <xs:annotation>
            <xs:documentation>
                This will be of the form '#(loc.*)' - where * is 1 or more chars made of alphabets, numbers and underscore.
                Valid examples include:   #(loc.abc), #(loc.abc123), #(loc.abc_123df), #(loc.VS90SP1) * #(loc.VS_90_SP1).
                Invalid examples include: #(loc.VS 90 SP1)  - No spaces allowed
                #(loc.VS90SP1+VC90SP1)  - '+' is not allowed.
            </xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:pattern value="#\(loc\.[0-9a-zA-Z_]+\)"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:element name="LocalizedData">
        <xs:annotation>
            <xs:documentation>root element</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="Language" minOccurs="1" maxOccurs="unbounded">
                </xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="Language">
        <xs:annotation>
            <xs:documentation>collection of 'Text' elements</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:sequence>
                <xs:element ref="Text" minOccurs="1" maxOccurs="unbounded">
                </xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>

    <xs:element name="Text">
        <xs:annotation>
            <xs:documentation>The actual string, translated into a particular language</xs:documentation>
        </xs:annotation>
        <xs:complexType>
            <xs:attribute name="ID" type="TextIDType" use="required" >
                <xs:annotation>
                    <xs:documentation>A meaningful ID, in the form defined by type TextIDType.</xs:documentation>
                </xs:annotation>
            </xs:attribute>
            <xs:attribute name="LocalizedText" type="xs:string" use="required" >
                <xs:annotation>
                    <xs:documentation>Any text that needs to be localized</xs:documentation>
                </xs:annotation>
            </xs:attribute>
        </xs:complexType>
    </xs:element>
</xs:schema>
