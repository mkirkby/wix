<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright (c) Microsoft Corporation.  All rights reserved.
    
    The use and distribution terms for this software are covered by the
    Common Public License 1.0 (http://opensource.org/licenses/cpl1.0.php)
    which can be found in the file CPL.TXT at the root of this distribution.
    By using this software in any fashion, you are agreeing to be bound by
    the terms of this license.
    
    You must not remove this notice, or any other, from this software.

  Toolset.wxs - WiX source for the WiX toolset binaries.
-->

<?include WixVer.wxi ?>

<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>
        <!-- Directories -->
        <DirectoryRef Id="APPLICATIONFOLDER">
            <Directory Id="BinDir" Name="bin" />
            <Directory Id="DocDir" Name="doc" />
            <Directory Id="SdkDir" Name="SDK">
                <Directory Id="SdkIncDir" Name="inc" />
                <Directory Id="SdkLibDir" Name="lib" />
            </Directory>
        </DirectoryRef>

        <!-- Components -->
        <DirectoryRef Id="APPLICATIONFOLDER">
            <Component Id="Licensing" Guid="A96136F8-E684-4281-A127-3417FBA25A67" Win64="no">
                <File Source="CPL.TXT" KeyPath="yes" />
            </Component>
        </DirectoryRef>

        <DirectoryRef Id="BinDir">
            <Component Id="BurnBinaries" Guid="ABC4BC34-2A57-4B7D-2897-E999A2452345" Win64="no">
                 <File Source="burnstub.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="CandleBinaries" Guid="FBD4BCFB-F1B7-4B6D-B07C-E999A24521CF" Win64="no">
                <File Source="candle.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="CandleConfig" Guid="2DE5487F-CB2B-4F26-AF95-ACDEC2D024E1" Win64="no">
                <File Source="candle.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="DarIceCube" Guid="98D9CF0F-31BA-4790-BAF8-CABC2AD17E81" Win64="no">
                <File Source="darice.cub" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="DarkBinaries" Guid="810E1FAD-A3C0-45B7-84D1-736118406F20" Win64="no">
                <File Source="dark.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="DarkConfig" Guid="F55931CA-AF4B-4B70-A130-A884EAAA903A" Win64="no">
                <File Source="dark.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="HeatBinaries" Guid="3AF1FDDC-E697-45D0-812D-8BBDA56BEBE8" Win64="no">
                <File Source="heat.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="HeatConfig" Guid="4C60E3B5-C41C-4A4A-929D-70315AC6DD03" Win64="no">
                <File Source="heat.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="InsigniaBinaries" Guid="F1B19D82-88C6-45D5-882E-EE3A95FF4F78" Win64="no">
                <File Source="insignia.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="InsigniaConfig" Guid="1C284E60-A247-4AA8-A0FC-CFF2F686A300" Win64="no">
                <File Source="insignia.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="LightBinaries" Guid="953F7B4C-36C7-4BDD-8EA6-048630F779FB" Win64="no">
                <File Source="light.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="LightConfig" Guid="7B76E85A-D3B6-4258-AE23-EAACABAA3947" Win64="no">
                <File Source="light.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="LitBinaries" Guid="D33FFA86-8C03-43A0-AED4-000D33ADD6AA" Win64="no">
                <File Source="lit.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="LitConfig" Guid="8B849034-B724-4656-ADF5-97DC794901B4" Win64="no">
                <File Source="lit.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="MeltBinaries" Guid="221E008E-FFC6-407C-A0CE-1A29C79F2F9D" Win64="no">
                <File Source="melt.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="MeltConfig" Guid="A95A7D06-18EF-49A3-B453-E86B97C81F41" Win64="no">
                <File Source="melt.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="MergeModCube" Guid="56BBF52F-048F-43A4-932D-0773A31CA9C1" Win64="no">
                <File Source="mergemod.cub" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="MergeModBinaries" Guid="AAF02F71-9684-4F4F-8EEA-FC99A61EAA9A" Win64="no">
                <File Source="mergemod.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="MSPatchCBinaries" Guid="D108F858-7364-490E-83A4-C94EF3469B00" Win64="no">
                <File Source="mspatchc.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="NAntTasks" Guid="D12399DB-3FAB-4A46-96CE-454B5F3BCB75" Win64="no">
                <File Source="Microsoft.Tools.WindowsInstallerXml.NAntTasks.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="PyroBinaries" Guid="A33CCD8E-A85A-4149-BBB4-11F4C43B9205" Win64="no">
                <File Source="pyro.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="PyroConfig" Guid="AE90E5F8-B7B0-4964-9C7A-3730DD0251FE" Win64="no">
                <File Source="pyro.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="ShineBinaries" Win64="no">
                <File Source="shine.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="ShineConfig" Win64="no">
                <File Source="shine.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="SmokeBinaries" Guid="48A05B14-C22E-454B-92B7-97200629BCEC" Win64="no">
                <File Source="smoke.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="SmokeConfig" Guid="24F0A281-B01F-4CD1-960B-7DE7EFA07470" Win64="no">
                <File Source="smoke.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="TorchBinaries" Guid="D9496C8B-825A-4464-92C7-8B8E258CA364" Win64="no">
                <File Source="torch.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="TorchConfig" Guid="0650236E-8279-4234-83AD-A33C17131741" Win64="no">
                <File Source="torch.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WConsoleBinaries" Guid="E687C3DB-8819-4849-A165-81DED7120A41" Win64="no">
                <File Source="wconsole.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WixBinaries" Guid="2179AE82-9B26-4102-9F3B-255EE7DB8BDF" Win64="no">
                <File Source="wix.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
                <Environment Id="WIXenv" Name="WIX" Action="set" System="yes" Value="[APPLICATIONFOLDER]" />
            </Component>
            <Component Id="WixInteropBinaries" Guid="E0574698-5BFD-4C85-BA0B-EB36B833E6CE" Win64="no">
                <File Source="winterop.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WixCopBinaries" Guid="E98CA3C7-2016-4FD9-827B-87A2EE6353C3" Win64="no">
                <File Source="WixCop.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WixUnitBinaries" Guid="526851FE-DE69-40C2-A1DB-D8B757A0FCAB" Win64="no">
                <File Source="WixUnit.exe" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WixUnitConfig" Guid="C71FD147-2A3D-4560-87BE-025459931800" Win64="no">
                <File Source="WixUnit.exe.config" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="WuiBinaries" Guid="C66AE68D-427C-4515-A1EA-70295930275F" Win64="no">
                <File Source="wui.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
            <Component Id="Microsoft.Deployment.WindowsInstaller.Wix" Guid="A95DB27C-DB3E-41CC-8CB9-40F286F304EC" Win64="no">
              <File Id="Microsoft.Deployment.WindowsInstaller.dll_Wix" Source="Microsoft.Deployment.WindowsInstaller.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
            </Component>
        </DirectoryRef>

        <DirectoryRef Id="DocDir">
            <Component Id="ChmDocumentation" Guid="6AA2591A-B5F8-44D9-91F4-3D7CD95635E0" Win64="no">
                <File Source="WiX.chm" KeyPath="yes" />
                <Shortcut Id="WixChmShortcut" Directory="WixShortcutFolder" Name="WiX Documentation" Icon="WixSetupIcons.ico" IconIndex="0" Advertise="yes" />
            </Component>
            <Component Id="MsiSdkChm" Guid="9B102980-0606-4656-AADE-B277402D7359" Win64="no">
                <File Source="msi.chm" KeyPath="yes" />
                <Shortcut Id="MsiChmShortcut" Directory="WixShortcutFolder" Name="MSI SDK Documentation" Icon="WixSetupIcons.ico" IconIndex="0" Advertise="yes" />
            </Component>
            <Component Id="WixSchemas" Guid="F41EA941-DCCC-4638-BB7E-A722EF7F2F5D" Win64="no">
                <File Source="wix\Xsd\wix.xsd" KeyPath="yes" />
                <File Source="wix\Xsd\wixloc.xsd" />
            </Component>
        </DirectoryRef>

        <DirectoryRef Id="ProgramFilesFolder">
            <Directory Id="Dir_MSBuild" Name="MSBuild">
                <Directory Id="Dir_MSBuildMS" Name="Microsoft">
                    <Directory Id="Dir_MSBuildMSWix" Name="WiX">
                        <Directory Id="Dir_MSBuildMSWix3x" Name="v3.x">
                            <Component Id="Microsoft.Deployment.WindowsInstaller.MSBuild36" Guid="317E2430-33B4-4E90-BBB9-91E80550E1A1" Win64="no">
                              <File Id="Microsoft.Deployment.WindowsInstaller.dll_MSBuild" Source="Microsoft.Deployment.WindowsInstaller.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
                            </Component>
                            <Component Id="WixMSBuildBinaries36" Guid="2CB1EA5F-2542-4AFF-A05B-FAF576265F89" Win64="no">
                                <File Source="WixTasks.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
                                <File Source="wix.targets" Vital="yes" />
                                <File Source="wix200x.targets" Vital="yes" />
                                <File Source="wix2010.targets" Vital="yes" />
                                <File Source="wix.ca.targets" Vital="yes" />
                            </Component>
                        </Directory>
                    </Directory>
                </Directory>
            </Directory>
        </DirectoryRef>

        <?if $(var.Platform)=x64 ?>
        <DirectoryRef Id="ProgramFiles64Folder">
            <Directory Id="Dir_MSBuild_64" Name="MSBuild" SourceName="MSBuild64">
                <Directory Id="Dir_MSBuildMS_64" Name="Microsoft">
                    <Directory Id="Dir_MSBuildMSWix_64" Name="WiX">
                        <Directory Id="Dir_MSBuildMSWix3x_64" Name="v3.x">
                            <Component Id="Microsoft.Deployment.WindowsInstaller.MSBuild36_64" Guid="2556C414-F9F2-47EB-BADE-A58CE04E018F" Win64="yes">
                                <File Id="Microsoft.Deployment.WindowsInstaller.dll_MSBuild_64" Source="Microsoft.Deployment.WindowsInstaller.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
                            </Component>
                            <Component Id="WixMSBuildBinaries36_64" Guid="93BE20B6-89E3-41C9-BD90-795FD393FB64" Win64="yes">
                                <File Id="WixTasks.dll_64" Source="WixTasks.dll" Checksum="yes" KeyPath="yes" Vital="yes" />
                                <File Id="wix.targets_64" Source="wix.targets" Vital="yes" />
                                <File Id="wix.ca.targets_64" Source="wix.ca.targets" Vital="yes" />
                            </Component>
                        </Directory>
                    </Directory>
                </Directory>
            </Directory>
        </DirectoryRef>
        <?endif?>

        <DirectoryRef Id="SdkDir">
            <Component Id="DocCompiler" Guid="47168F22-10AC-4D4B-867E-A27BF93BECC7" Win64="no">
                <File Source="DocCompiler.exe" Checksum="yes" KeyPath="yes" />
            </Component>
          <Component Id="MsgGen" Guid="5A7280EB-ED53-40B7-906B-010272E49CA3" Win64="no">
            <File Source="MsgGen.exe" Checksum="yes" KeyPath="yes" />
          </Component>
          <Component Id="XsdGen" Guid="1A02B996-B159-409F-ACDD-D1E64D15C0F2" Win64="no">
            <File Source="XsdGen.exe" Checksum="yes" KeyPath="yes" />
          </Component>
          <Component Id="XsdStitch" Guid="8C205460-3ADF-4F6A-8913-A0F900CB66A8" Win64="no">
            <File Source="XsdStitch.exe" Checksum="yes" KeyPath="yes" />
          </Component>
        </DirectoryRef>

        <DirectoryRef Id="SdkIncDir">
            <Component Id="SdkHeaders" Guid="332DBDA4-0459-40B3-A1C0-24163C04B3B6" Win64="no">
                <File Source="aclutil.h" />
                <File Source="apuputil.h" />
                <File Source="atomutil.h" />
                <File Source="buffutil.h" />
                <File Source="cabcutil.h" />
                <File Source="cabutil.h" />
                <File Source="certutil.h" />
                <File Source="conutil.h" />
                <File Source="cryputil.h" />
                <File Source="ext\DependencyExtension\lib\inc\deputil.h" />
                <File Source="dictutil.h" />
                <File Source="dirutil.h" />
                <File Source="dutil.h" KeyPath="yes" />
                <File Source="eseutil.h" />
                <File Source="fileutil.h" />
                <File Source="gdiputil.h" />
                <File Source="inetutil.h" />
                <File Source="jsonutil.h" />
                <File Source="locutil.h" />
                <File Source="logutil.h" />
                <File Source="memutil.h" />
                <File Source="metautil.h" />
                <File Source="osutil.h" />
                <File Source="pathutil.h" />
                <File Source="perfutil.h" />
                <File Source="procutil.h" />
                <File Source="regutil.h" />
                <File Source="rexutil.h" />
                <File Source="resrutil.h" />
                <File Source="reswutil.h" />
                <File Source="rssutil.h" />
                <File Source="sceutil.h" />
                <File Source="shelutil.h" />
                <File Source="sqlutil.h" />
                <File Source="strutil.h" />
                <File Source="thmutil.h" />
                <File Source="timeutil.h" />
                <File Source="uriutil.h" />
                <File Source="userutil.h" />
                <File Source="wiutil.h" />
                <File Source="xmlutil.h" />
                <File Source="wcautil.h" />
                <File Source="wcawow64.h" />
                <File Source="wcawrapquery.h" />
            </Component>
        </DirectoryRef>

        <ComponentGroup Id="SdkLibs">
            <?if $(var.Build2005)=true ?>
            <ComponentRef Id="Dutil_2005_x86" />
            <ComponentRef Id="Dutil_2005_x64" />

            <ComponentRef Id="Wcautil_2005_x86" />
            <ComponentRef Id="Wcautil_2005_x64" />

            <ComponentRef Id="deputil_2005.lib" />

            <?if $(var.BuildIA64)=true ?>
            <ComponentRef Id="Dutil_2005_ia64" />
            <ComponentRef Id="Wcautil_2005_ia64" />
            <?endif ?>
            <?endif ?>

            <?if $(var.Build2008)=true ?>
            <ComponentRef Id="Dutil_2008_x86" />
            <ComponentRef Id="Dutil_2008_x64" />

            <ComponentRef Id="Wcautil_2008_x86" />
            <ComponentRef Id="Wcautil_2008_x64" />

            <ComponentRef Id="deputil_2008.lib" />

            <?if $(var.BuildIA64)=true ?>
            <ComponentRef Id="Wcautil_2008_ia64" />
            <ComponentRef Id="Dutil_2008_ia64" />
            <?endif ?>
            <?endif ?>


            <?if $(var.Build2010)=true ?>
            <ComponentRef Id="Dutil_2010_x86" />
            <ComponentRef Id="Dutil_2010_x64" />

            <ComponentRef Id="Wcautil_2010_x86" />
            <ComponentRef Id="Wcautil_2010_x64" />

            <ComponentRef Id="deputil_2010.lib" />

            <?if $(var.BuildIA64)=true ?>
            <ComponentRef Id="Dutil_2010_ia64" />
            <ComponentRef Id="Wcautil_2010_ia64" />
            <?endif ?>
            <?endif ?>

        </ComponentGroup>

        <ComponentGroup Id="Toolset">
            <ComponentRef Id="BurnBinaries" />
            <ComponentRef Id="CandleBinaries" />
            <ComponentRef Id="CandleConfig" />
            <ComponentRef Id="DarIceCube" />
            <ComponentRef Id="DarkBinaries" />
            <ComponentRef Id="DarkConfig" />
            <ComponentRef Id="HeatBinaries" />
            <ComponentRef Id="HeatConfig" />
            <ComponentRef Id="InsigniaBinaries" />
            <ComponentRef Id="InsigniaConfig" />
            <ComponentRef Id="Licensing" />
            <ComponentRef Id="LightBinaries" />
            <ComponentRef Id="LightConfig" />
            <ComponentRef Id="LitBinaries" />
            <ComponentRef Id="LitConfig" />
            <ComponentRef Id="MeltBinaries" />
            <ComponentRef Id="MeltConfig" />
            <ComponentRef Id="MergeModBinaries" />
            <ComponentRef Id="MergeModCube" />
            <ComponentRef Id="MSPatchCBinaries" />
            <ComponentRef Id="PyroBinaries" />
            <ComponentRef Id="PyroConfig" />
            <ComponentRef Id="ShineBinaries" />
            <ComponentRef Id="ShineConfig" />
            <ComponentRef Id="SmokeBinaries" />
            <ComponentRef Id="SmokeConfig" />
            <ComponentRef Id="TorchBinaries" />
            <ComponentRef Id="TorchConfig" />
            <ComponentRef Id="WConsoleBinaries" />
            <ComponentRef Id="WixBinaries" />
            <ComponentRef Id="WixCopBinaries" />
            <ComponentRef Id="WixInteropBinaries" />
            <ComponentRef Id="WixUnitBinaries" />
            <ComponentRef Id="WixUnitConfig" />
            <ComponentRef Id="WuiBinaries" />
            <ComponentRef Id="Microsoft.Deployment.WindowsInstaller.Wix" />

            <Component Directory="BinDir">
                <File Source="ThmViewer.exe" />
            </Component>

            <Component Directory="BinDir">
              <File Id="Microsoft.Deployment.Resources.Wix" Source="Microsoft.Deployment.Resources.dll" />
            </Component>
        </ComponentGroup>
    </Fragment>
</Wix>
